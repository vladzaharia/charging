---
interface Props {
  path: string;
  class?: string;
  label?: string;
}

const { path, class: className, label } = Astro.props;
const { pathname } = Astro.url;

// Check if current path matches this nav item
const isActive =
  path === '' ? pathname === '/' || pathname === '' : pathname.startsWith(`/${path}`);

---

<a
  class={`flex flex-row items-center font-display py-4 px-6 gap-4 text-charge-green hover:text-slate-900 bg-slate-900/10 hover:bg-charge-green/75 border-charge-green border-2 rounded-xl backdrop-blur backdrop-opacity-85 drop-shadow-lg transition-all duration-300 ${className}`}
  href=`/${path}`
  data-astro-prefetch
  aria-current={isActive ? 'page' : undefined}
  aria-label={label || undefined}
>
  <slot />
</a>
