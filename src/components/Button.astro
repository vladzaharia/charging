---
import { ButtonReact } from './button/ButtonReact';

interface Props {
  path: string;
  class?: string;
  label?: string;
  disabled?: boolean;
}

const { path, class: className, label, disabled = false } = Astro.props;
const { pathname } = Astro.url;

// Check if current path matches this nav item
const isActive =
  path === '' ? pathname === '/' || pathname === '' : pathname.startsWith(`/${path}`);
---

<ButtonReact
  client:load
  as="a"
  href={`/${path}`}
  variant="primary"
  {disabled}
  {className}
  data-astro-prefetch
  aria-current={isActive ? 'page' : undefined}
  aria-label={label || undefined}
>
  <slot />
</ButtonReact>
